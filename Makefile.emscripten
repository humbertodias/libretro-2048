install-emsdk:
	cd /tmp && git clone https://github.com/emscripten-core/emsdk . && ./emsdk install latest && ./emsdk activate latest && bash -c "source emsdk_env.sh"

build-core:
	emmake make -f Makefile.libretro platform=emscripten
	git clone https://github.com/libretro/RetroArch.git && \
	cp 2048_libretro_emscripten.bc RetroArch/libretro_emscripten.bc
	cd RetroArch && \
	bash -c "source /tmp/emsdk/emsdk_env.sh" && \
	emmake make -f Makefile.emscripten LIBRETRO=2028 -j all
